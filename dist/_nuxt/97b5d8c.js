(window.webpackJsonp=window.webpackJsonp||[]).push([[3,13],{1395:function(t,e,n){var content=n(1452);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("299212be",content,!0,{sourceMap:!1})},1396:function(t,e,n){var content=n(1454);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("0bf91d8a",content,!0,{sourceMap:!1})},1397:function(t,e,n){var content=n(1456);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("3b668454",content,!0,{sourceMap:!1})},1436:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},1451:function(t,e,n){"use strict";n(1395)},1452:function(t,e,n){var r=n(35)(!1);r.push([t.i,".search-border{border-radius:10px!important}.search-bg{background-color:#eceff1}.select-network-css{font-size:20px;font-style:italic}",""]),t.exports=r},1453:function(t,e,n){"use strict";n(1396)},1454:function(t,e,n){var r=n(35)(!1);r.push([t.i,".search-border{border-radius:10px!important}.select-token-css{font-size:20px;font-style:italic}",""]),t.exports=r},1455:function(t,e,n){"use strict";n(1397)},1456:function(t,e,n){var r=n(35)(!1);r.push([t.i,".dialog-css{width:400px;max-width:400px;min-height:64px}.title-css{font-size:24px;font-weight:600;font-style:italic}.subtitle-css{font-size:14px;font-weight:400}.main-title-css{font-size:18px;font-weight:500;word-break:break-all}.deposit-btn{border-radius:10px!important;background-color:#5959d8!important}.deposit-btn,.metamask-pay-btn{color:#fff!important;font-weight:600}.metamask-pay-btn{background-color:#2979ff!important;border-radius:10px}.qr-area{background-color:#f4f7fa;border-radius:10px!important}.help-text{word-wrap:break-word}",""]),t.exports=r},1494:function(t,e,n){"use strict";n.r(e);var r=n(742),o=n(1342),c=n(1351),l=n(503),d=n(393),f=n(508),m=n(304),h=n(509),x=n(92),_=n(516),v=n(1341),k=n(128),w=n(1340),y=n(1286),C=(n(48),n(321),n(58),n(19),n(12),n(179),n(1368)),$={data:function(){return{search:""}},computed:{selectNetworkDialog:{get:function(){return this.$store.state.selectNetworkDialog},set:function(t){this.$store.commit("toggleSelectNetwork",t)}},selectedNetwork:{get:function(){return this.$store.state.fromNetwork},set:function(t){this.$store.commit("setFromNetwork",t),this.$store.commit("setFromToken",t),this.selectNetworkDialog=!1}},chains:{get:function(){return C}},filteredItems:function(){var t=this;return this.chains.filter((function(e){return e.symbol.toLowerCase().match(t.search)||e.name.toLowerCase().match(t.search)||e.asset_id.toLowerCase().match(t.search)}))}},mounted:function(){this.selectedNetwork=this.filteredItems[1]}},D=(n(1451),n(69)),component=Object(D.a)($,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"400px","overlay-opacity":"0.95"},model:{value:t.selectNetworkDialog,callback:function(e){t.selectNetworkDialog=e},expression:"selectNetworkDialog"}},[e(k.a,{staticClass:"align-self-start px-9 pt-8"},[e(v.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0"},[e("h1",{staticClass:"select-network-css"},[t._v(t._s(t.$t("select_network"))+" ")]),t._v(" "),e(w.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.selectNetworkDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),e(o.a,{staticClass:"pt-4 px-2"},[e(y.a,{staticClass:"search-border search-bg",attrs:{dense:"",outlined:"","hide-details":"true","prepend-inner-icon":"mdi-magnify",placeholder:t.$t("search_network_name")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(o.a,{staticClass:"pt-2 px-0"},[e(f.a,{staticClass:"overflow-y-auto",attrs:{height:"450px"}},[e(_.a,t._l(t.filteredItems,(function(n,i){return e(m.a,{key:i,staticClass:"px-2",staticStyle:{"border-radius":"10px"},on:{click:function(e){t.selectedNetwork=n}}},[e(h.a,[e(d.a,{attrs:{src:n.icon_url}})],1),t._v(" "),e(x.a,[e(x.c,{staticClass:"font-weight-bold",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(n.name)+" ")]),t._v(" "),e(x.b,{staticStyle:{"font-size":"12px"}},[t._v("  "+t._s(n.symbol)+" ")])],1)],1)})),1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1495:function(t,e,n){"use strict";n.r(e);var r=n(742),o=n(1342),c=n(1351),l=n(503),d=n(393),f=n(508),m=n(304),h=n(509),x=n(92),_=n(516),v=n(1341),k=n(128),w=n(1340),y=n(1286),C=(n(48),n(321),n(58),n(19),n(12),n(179),n(530)),$={data:function(){return{search:""}},computed:{selectTokenDialog:{get:function(){return this.$store.state.selectTokenDialog},set:function(t){this.$store.commit("toggleSelectToken",t)}},selectedToken:{get:function(){return this.$store.state.fromToken},set:function(t){this.$store.commit("setFromToken",t),this.selectTokenDialog=!1}},assets:{get:function(){var t=this;return"c94ac88f-4671-3976-b60a-09064f1811e8"==this.$store.state.fromNetwork.asset_id?C.assets:C.assets.filter((function(e){return e.chain_id.match(t.$store.state.fromNetwork.asset_id)}))}},filteredItems:function(){var t=this;return this.assets.filter((function(e){return e.symbol.toLowerCase().match(t.search)||e.name.toLowerCase().match(t.search)||e.asset_id.toLowerCase().match(t.search)}))}}},D=(n(1453),n(69)),component=Object(D.a)($,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"400px","overlay-opacity":"0.95"},model:{value:t.selectTokenDialog,callback:function(e){t.selectTokenDialog=e},expression:"selectTokenDialog"}},[e(k.a,{staticClass:"align-self-start px-9 pt-8"},[e(v.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0"},[e("h1",{staticClass:"select-token-css"},[t._v(t._s(t.$t("select_token")))]),t._v(" "),e(w.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.selectTokenDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),e(o.a,{staticClass:"pt-4 px-2"},[e(y.a,{staticClass:"search-border search-bg",attrs:{dense:"",outlined:"","hide-details":"true","prepend-inner-icon":"mdi-magnify",placeholder:t.$t("search_token_name")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e(o.a,{staticClass:"pt-2 px-0"},[e(f.a,{staticClass:"overflow-y-auto",attrs:{height:"450px"}},[e(_.a,t._l(t.filteredItems,(function(n,i){return e(m.a,{key:i,staticClass:"px-2",staticStyle:{"border-radius":"10px"},on:{click:function(e){t.selectedToken=n}}},[e(h.a,[e(d.a,{attrs:{src:n.icon_url}})],1),t._v(" "),e(x.a,[e(x.c,{staticClass:"font-weight-bold",staticStyle:{"font-size":"14px"}},[t._v("\n                  "+t._s(n.symbol)+"\n                ")]),t._v(" "),e(x.b,{staticStyle:{"font-size":"12px"}},[t._v("\n                  "+t._s(n.name)+"\n                ")])],1)],1)})),1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1496:function(t,e,n){"use strict";n.r(e);var r=n(742),o=n(1342),c=n(1351),l=n(503),d=n(393),f=n(1341),m=n(128),h=n(1340),x=(n(58),n(23)),_=(n(111),n(70),n(93),n(60),n(12),n(98),n(63)),v=n(178),k=n(1436),w=n(160),y=n(1408),C=n.n(y),$=n(1389),D=n.n($),T=n(528),S=n(527),N="c94ac88f-4671-3976-b60a-09064f1811e8",B="43d61dcd-e413-450d-80b8-101d5e903357",A="https://etherscan.io/",R=Object(v.a)(),O={data:function(){return{search:"",MetamaskLogo:D.a,txShowQR:!1,txQrBtnText:this.$t("show_qrcode"),txSent:!1,txExplorerURL:""}},components:{VueQrcode:C.a},props:["fromAmount","fromBalance"],computed:{confirmDepositDialog:{get:function(){return this.$store.state.confirmDepositDialog},set:function(t){this.txShowQR=!1,this.txQrBtnText=this.$t("show_qrcode"),this.$store.commit("toggleConfirmDeposit",t)}},txSucceedDialog:{get:function(){return this.$store.state.txSucceedDialog},set:function(t){this.$store.commit("toggleTxSucceedDialog",t)}},txFailedDialog:{get:function(){return this.$store.state.txFailedDialog},set:function(t){this.$store.commit("toggleTxFailedDialog",t)}},selectedNetwork:{get:function(){return this.$store.state.fromNetwork}},selectedToken:{get:function(){return this.$store.state.fromToken}},connectedChain:function(){return this.$store.state.chainId},depositAddr:{get:function(){return this.$store.state.depositAddr}},supportsMetamask:{get:function(){return!!this.$store.state.supportMetamaskNetworks.includes(this.selectedNetwork.symbol)&&(!(this.fromBalance<this.fromAmount)&&this.selectedNetwork.evm_chain_id==this.$store.state.chainId)}},userAddress:function(){return this.$store.state.userAddress},txQrHelpText:{get:function(){return this.selectedNetwork.asset_id==N?this.$t("please_scan_qr_with_your_mixin_messenger"):this.selectedNetwork.asset_id!=N?this.$t("please_transfer_to_this_address_from_your_wallet"):void 0}},txQrUrl:{get:function(){return this.selectedNetwork.asset_id==N?this.createMixinPayment():this.selectedNetwork.asset_id!=N?this.depositAddr[0]:void 0}},rows:{get:function(){return[{subtitle:this.$t("from"),haveIcon:!0,icon:this.selectedNetwork.icon_url,addtoken:!1,copyable:!1,name:this.selectedNetwork.name+" Mainnet"},{subtitle:this.$t("token"),haveIcon:!0,icon:this.selectedToken.icon_url,addtoken:"0x120C7"===this.connectedChain,copyable:!1,name:this.selectedToken.symbol},{subtitle:this.$t("amount"),haveIcon:!1,icon:"",addtoken:!1,copyable:!1,name:this.fromAmount+" "+this.selectedToken.symbol},{subtitle:this.$t("address"),haveIcon:!1,icon:"",addtoken:!1,copyable:!0,name:this.selectedNetwork.asset_id==N?"":this.depositAddr[0]},{subtitle:this.$t("memo"),haveIcon:!1,icon:"",addtoken:!1,copyable:!0,name:this.selectedNetwork.asset_id==N?"":this.depositAddr[1]?this.depositAddr[1]:""}]}}},methods:{toggleQR:function(){this.txShowQR=!this.txShowQR,this.selectedNetwork.asset_id==N&&this.getPaymentState(),1==this.txShowQR&&(this.txQrBtnText=this.$t("hide_qrcode")),0==this.txShowQR&&(this.txQrBtnText=this.$t("show_qrcode"))},createMixinPayment:function(){var t=JSON.parse(localStorage.getItem("user"));return"mixin://pay?recipient=".concat(t.client_id,"&asset=").concat(this.selectedToken.asset_id,"&amount=").concat(this.fromAmount,"&trace=").concat(R)},redirect:function(t){location.href=t,this.getPaymentState(1)},getPaymentState:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t){n.next=4;break}if(e.txShowQR){n.next=4;break}return n.abrupt("return");case 4:if(0!=e.confirmDepositDialog){n.next=6;break}return n.abrupt("return");case 6:if(null!=e.txQrUrl){n.next=8;break}return n.abrupt("return");case 8:return r=JSON.parse(localStorage.getItem("user")),o=Object(S.b)(r.client_id,r.session_id,r.private_key),n.next=12,o.transfer.fetch(R).catch((function(t){console.log("Trace ID not found")}));case 12:if(c=n.sent,console.log(c),"transfer"!=c.type){n.next=21;break}return e.confirmDepositDialog=!1,e.txSucceedDialog=!0,e.txExplorerURL="https://scan.mvm.dev/address/"+e.userAddress+"/token-transfers",R=Object(v.a)(),e.txShowQR=!1,n.abrupt("return");case 21:return n.next=23,new Promise((function(t){return setTimeout(t,1e3)}));case 23:n.next=0;break;case 25:case"end":return n.stop()}}),n)})))()},addToken:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=window.ethereum){e.next=2;break}return e.abrupt("return");case 2:if((n=t.selectedToken.asset_id)!=B){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,S.a.asset.fetch(n);case 8:return r=e.sent,e.next=11,Object(T.d)(n);case 11:if((o=e.sent)!==_.a.constants.AddressZero){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:o,symbol:r.symbol,decimals:8,image:r.icon_url}}});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})))()},copyAddr:function(t){navigator.clipboard.writeText(t)},deposit:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,f,m,h,x,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.supportsMetamask){e.next=39;break}if(t.txSent=!0,t.selectedToken.asset_key.includes("0x")){e.next=5;break}return e.abrupt("return");case 5:if(n=Object(w.b)(),r=n.connectedWallet,o=new _.a.providers.Web3Provider(r.value.provider,"any"),c=o.getSigner(),"ETH"!==t.selectedToken.symbol){e.next=27;break}return l=_.a.utils.parseEther(t.fromAmount),e.t0=_.a.utils,e.next=13,c.getAddress();case 13:return e.t1=e.sent,e.t2=e.t0.getAddress.call(e.t0,e.t1),e.t3=t.depositAddr[0],e.t4=l,d={from:e.t2,to:e.t3,value:e.t4,chainId:1},e.next=20,o.getSigner().sendTransaction(d);case 20:return f=e.sent,console.log(f),t.txExplorerURL=A+"tx/"+f.hash,t.txSent=!1,t.confirmDepositDialog=!1,t.txSucceedDialog=!0,e.abrupt("return");case 27:if(t.selectedToken.chain_id!==B){e.next=39;break}return m=new _.a.Contract(t.selectedToken.asset_key,k,o),h=m.connect(c),e.next=32,m.decimals();case 32:return x=e.sent,v=_.a.utils.parseUnits(t.fromAmount,x),e.next=36,h.transfer(t.depositAddr[0],v);case 36:y=e.sent,console.log(y),t.txExplorerURL=A+"tx/"+y.hash;case 39:t.txSent=!1,t.confirmDepositDialog=!1,t.txSucceedDialog=!0,e.next=50;break;case 44:e.prev=44,e.t5=e.catch(0),t.txSent=!1,t.confirmDepositDialog=!1,t.txFailedDialog=!0,console.log(e.t5);case 50:case"end":return e.stop()}}),e,null,[[0,44]])})))()}}},j=(n(1455),n(69)),component=Object(j.a)(O,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"510px","overlay-opacity":"0.95"},model:{value:t.confirmDepositDialog,callback:function(e){t.confirmDepositDialog=e},expression:"confirmDepositDialog"}},[e(m.a,{staticClass:"align-self-start px-9 py-8"},[e(f.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0 mb-2"},[e("h1",{staticClass:"title-css"},[t._v(t._s(t.$t("confirm_deposit")))]),t._v(" "),e(h.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.confirmDepositDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),t._l(t.rows,(function(n,i){return e(o.a,{key:i,staticClass:"py-0"},[n.name?e("span",{staticClass:"subtitle-css"},[t._v("\n          "+t._s(n.subtitle)+"\n        ")]):t._e(),t._v(" "),n.name?e("div",{staticClass:"d-flex flex-row align-center pt-1 mb-5"},[n.haveIcon?e(d.a,{staticClass:"mr-2",attrs:{src:n.icon,"max-height":"16px","max-width":"16px"}}):t._e(),t._v(" "),e("span",{staticClass:"main-title-css"},[t._v("\n            "+t._s(n.name)+"\n          ")]),t._v(" "),n.addtoken?e(l.a,{staticClass:"ml-1",attrs:{size:"14px"},on:{click:t.addToken}},[t._v("\n            mdi-plus\n          ")]):t._e(),t._v(" "),n.copyable?e(l.a,{staticClass:"ml-1",attrs:{size:"14px"},on:{click:function(e){return t.copyAddr(n.name)}}},[t._v("\n            mdi-content-copy\n          ")]):t._e()],1):t._e()])})),t._v(" "),e(o.a,[e(r.a,{staticClass:"deposit-btn mt-2",attrs:{block:"","x-large":"",elevation:"0"},on:{click:t.toggleQR}},[t._v("\n          "+t._s(t.txQrBtnText)+"\n        ")]),t._v(" "),t.supportsMetamask?e(r.a,{staticClass:"metamask-pay-btn mt-3",attrs:{block:"","x-large":"",elevation:"0",loading:t.txSent},on:{click:t.deposit}},[e("span",{staticClass:"ml-1"},[t._v(" "+t._s(t.$t("transfer_with_current_wallet")))])]):t._e(),t._v(" "),t.$vuetify.breakpoint.mobile&&"XIN"===t.selectedNetwork.symbol?e(r.a,{staticClass:"deposit-btn mt-3",attrs:{block:"","x-large":"",elevation:"0"},on:{click:function(e){t.redirect(t.createMixinPayment())}}},[t._v("\n          "+t._s(t.$t("pay_with_mixin_messenger"))+"\n        ")]):t._e(),t._v(" "),t.txShowQR&&t.$vuetify.breakpoint.mobile?e("div",{staticClass:"d-flex flex-column justify-center mt-5 pa-4 align-center qr-area"},[e(o.a,{staticClass:"d-flex justify-center"},[e("vue-qrcode",{staticClass:"mr-1",attrs:{value:t.txQrUrl,options:{margin:0,width:100}}})],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-center"},[e("span",{staticClass:"font-weight-light help-text"},[t._v("\n              "+t._s(t.txQrHelpText)+"\n            ")])])],1):t._e(),t._v(" "),t.txShowQR&&!t.$vuetify.breakpoint.mobile?e("div",{staticClass:"d-flex justify-center mt-5 pa-4 align-center qr-area"},[e(o.a,{staticClass:"d-flex flex-grow-1"},[e("span",{staticClass:"font-weight-light help-text"},[t._v("\n              "+t._s(t.txQrHelpText)+"\n            ")])]),t._v(" "),e(o.a,{staticClass:"d-flex flex-grow-0"},[e("vue-qrcode",{staticClass:"mr-1",attrs:{value:t.txQrUrl,options:{margin:0,width:100}}})],1)],1):t._e()],1)],2),t._v(" "),e("tx-confirmed",{attrs:{link:t.txExplorerURL}}),t._v(" "),e("tx-failed")],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TxConfirmed:n(1372).default,TxFailed:n(1383).default})},1699:function(t,e,n){var content=n(1877);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("3a991664",content,!0,{sourceMap:!1})},1773:function(t,e,n){"use strict";n.r(e);var r,o=n(742),c=n(1342),l=n(2066),d=n(503),f=n(393),m=n(502),h=n(1341),x=n(128),_=n(1286),v=(n(58),n(23)),k=n(7),w=(n(111),n(50),n(60),n(12),n(132),n(70),n(93),n(98),n(2099)),y=n(63),C=n(322),$=n.n(C),D=n(527),T=n(1436),S=n(160),N=n(1495),B=n(1494),A=n(224),R=n(1496),O="43d61dcd-e413-450d-80b8-101d5e903357",j={components:{selectFromNetwork:B.default,selectFromToken:N.default,ConnectWallet:A.default,DepositDialog:R.default},head:function(){return{title:this.$t("deposit_token")}},data:function(){var t=this;return{bridge:$.a,errorMsg:"",fromGas:"",fromAmount:"0",fromBalance:"",fromBalanceVisble:!1,fetchingBalance:!1,depositing:!1,rules:[function(t){return!!t||"Value is required"},function(t){return t>0||"Value must bigger than 0"},function(e){return t.networkCorrect||"Incorrect network"}],valueValid:!1}},computed:(r={mode:{get:function(){return this.$store.state.mode},set:function(t){this.$store.commit("setMode",t)}},selectNetworkDialog:{get:function(){return this.$store.state.selectNetworkDialog},set:function(t){this.$store.commit("toggleSelectNetwork",t)}},selectTokenDialog:{get:function(){return this.$store.state.selectTokenDialog},set:function(t){this.$store.commit("toggleSelectToken",t)}},connected:{get:function(){return this.$store.state.connected}},selectedNetwork:{get:function(){return this.$store.state.fromNetwork}},selectedToken:{get:function(){return this.$store.state.fromToken}},connectedChain:function(){return this.$store.state.chainId},connectWalletDialog:{get:function(){return this.$store.state.connectWalletDialog},set:function(t){this.$store.commit("toggleConnectWallet",t)}},confirmDepositDialog:{get:function(){return this.$store.state.confirmDepositDialog},set:function(t){this.$store.commit("toggleConfirmDeposit",t)}},fixedFromBalance:{get:function(){return Number(this.fromBalance).toLocaleString("en-US",{maximumFractionDigits:8,minimumFractionDigits:2})}}},Object(k.a)(r,"connectedChain",(function(){return this.$store.state.chainId})),Object(k.a)(r,"networkCorrect",{get:function(){return!this.selectedNetwork.evm_chain_id||("XIN"==this.selectedNetwork.symbol||this.selectedNetwork.evm_chain_id===this.connectedChain)}}),Object(k.a)(r,"depositBtnText",{get:function(){return this.networkCorrect?this.$t("deposit"):"".concat(this.$t("please_switch_to")," ").concat(this.selectedNetwork.name," ").concat(this.$t("mainnet"))}}),Object(k.a)(r,"estimatedReceive",{get:function(){if(0==this.fromAmount)return 0;try{return Object(w.a)(Object(w.d)(this.fromAmount,this.fromGas),8).toString()}catch(t){return console.log(t),0}}}),r),watch:{selectedToken:function(){this.getFromBalance()},connected:function(){this.getFromBalance()},connectedChain:function(){this.getFromBalance()}},mounted:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFromBalance();case 2:t.ethBydefault();case 3:case"end":return e.stop()}}),e)})))()},methods:{deposit:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectedNetwork.asset_id===O&&t.ethBydefault(),t.depositing=!0,e.next=4,t.getDepositAddress(t.selectedToken.asset_id);case 4:n=e.sent,t.depositing=!1,t.confirmDepositDialog=!0,t.$store.commit("setDepositAddr",n);case 8:case"end":return e.stop()}}),e)})))()},getFromBalance:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,f,m,h,x,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.connected){e.next=3;break}return e.next=3,t.sleep(500);case 3:if(t.connected){e.next=5;break}return e.abrupt("return");case 5:if(t.checkNetwork(t.selectedNetwork.symbol)){e.next=9;break}return t.fetchingBalance=!1,t.fromBalanceVisble=!1,e.abrupt("return");case 9:if(t.fetchingBalance=!0,t.fromBalanceVisble=!1,n=Object(S.b)(),null!=(r=n.connectedWallet).value){e.next=16;break}return t.fetchingBalance=!1,t.fromBalanceVisble=!1,e.abrupt("return");case 16:return o=new y.a.providers.Web3Provider(r.value.provider,"any"),c=o.getSigner(),e.next=20,c.getAddress();case 20:if(l=e.sent,t.selectedToken.asset_id!==O){e.next=32;break}return d=y.a.utils.getAddress(l),e.t0=y.a.utils,e.next=26,o.getBalance(d);case 26:return e.t1=e.sent,f=e.t0.formatEther.call(e.t0,e.t1),t.fromBalance=f,t.fetchingBalance=!1,t.fromBalanceVisble=!0,e.abrupt("return");case 32:if(t.selectedToken.asset_key.includes("0x")){e.next=36;break}return t.fetchingBalance=!1,t.fromBalanceVisble=!1,e.abrupt("return");case 36:return m=new y.a.Contract(t.selectedToken.asset_key,T,o),e.next=39,m.balanceOf(l);case 39:return h=e.sent,e.next=42,m.decimals();case 42:x=e.sent,_=y.a.utils.formatUnits(h,x),t.fromBalance=_,t.fetchingBalance=!1,t.fromBalanceVisble=!0;case 47:case"end":return e.stop()}}),e)})))()},getDepositAddress:function(t){return Object(v.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=localStorage.getItem("user"))){e.next=11;break}return r=JSON.parse(n),o=Object(D.b)(r.client_id,r.session_id,r.private_key),e.next=7,o.asset.fetch(t);case 7:return c=e.sent,l=c.deposit_entries[0].destination,d=c.deposit_entries[0].tag,e.abrupt("return",[l,d]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},checkNetwork:function(t){return this.$store.state.supportMetamaskNetworks.includes(t)},ethBydefault:function(){return Object(v.a)(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(S.b)(),n=e.connectedWallet,r=e.setChain,n&&r({wallet:n.value.label,chainId:"0x1"});case 2:case"end":return t.stop()}}),t)})))()},sleep:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}},M=(n(1876),n(69)),component=Object(M.a)(j,(function(){var t=this,e=t._self._c;return e(h.a,{staticClass:"justify-center align-self-start",attrs:{"no-gutters":""}},[e(x.a,{staticClass:"pa-9 mt-15 border-rounded",attrs:{elevation:"2","max-width":"552px"}},[e(h.a,{staticClass:"d-flex flex-column",attrs:{"no-gutters":""}},[e(c.a,{staticClass:"mb-6 px-0",staticStyle:{"font-size":"24px"}},[e("a",{staticClass:"pr-6 font-weight-bold"},[e("span",[t._v(" "+t._s(t.$t("deposit"))+" ")])]),t._v(" "),e("a",{staticStyle:{color:"#68778d","text-decoration":"none"},on:{click:function(e){t.mode=1}}},[e("span",[t._v(" "+t._s(t.$t("withdraw"))+" ")])])]),t._v(" "),e(c.a,{staticClass:"pa-0",staticStyle:{"font-size":"14px"}},[e(x.a,{staticClass:"px-5 py-4 border-rounded",staticStyle:{"background-color":"#f4f7fa"}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mr-1 font-weight-light"},[t._v(" "+t._s(t.$t("from"))+" ")]),t._v(" "),e(o.a,{staticClass:"px-0",attrs:{small:"",depressed:""},on:{click:function(e){e.stopPropagation(),t.selectNetworkDialog=!0}}},[e(f.a,{staticClass:"ml-2",attrs:{"max-width":"20px","max-height":"20px",src:t.selectedNetwork.icon_url}}),t._v(" "),e("span",{staticClass:"ml-2 selected-network font-weight-500"},[t._v("\n                "+t._s(t.selectedNetwork.name)+" "+t._s(t.$t("mainnet"))+"\n              ")]),t._v(" "),e(d.a,{attrs:{small:""}},[t._v(" mdi-menu-down ")])],1),t._v(" "),e("select-from-network")],1),t._v(" "),e("div",{staticClass:"d-flex flex-row align-center"},[e(l.a,{model:{value:t.valueValid,callback:function(e){t.valueValid=e},expression:"valueValid"}},[e(_.a,{staticClass:"from-form my-3",attrs:{flat:"",outlined:"",rules:t.rules,"error-messages":t.errorMsg,placeholder:"0.0","hide-details":"true"},model:{value:t.fromAmount,callback:function(e){t.fromAmount=e},expression:"fromAmount"}})],1),t._v(" "),t.$vuetify.breakpoint.mobile?e(o.a,{staticClass:"select-token-btn px-1",attrs:{outlined:"",elevation:"0","min-height":"56px"},on:{click:function(e){e.stopPropagation(),t.selectTokenDialog=!0}}},[e(f.a,{staticClass:"mr-1 ml-1",attrs:{src:t.selectedToken.icon_url,"max-height":"24px","max-width":"24px"}}),t._v(" "),e("span",{staticStyle:{"font-size":"18px"}},[t._v("\n                "+t._s(t.selectedToken.symbol)+"\n              ")]),t._v(" "),e(d.a,{attrs:{small:""}},[t._v(" mdi-menu-down ")])],1):e(o.a,{staticClass:"select-token-btn",attrs:{elevation:"0","min-height":"56px"},on:{click:function(e){e.stopPropagation(),t.selectTokenDialog=!0}}},[e(f.a,{staticClass:"mr-3",attrs:{src:t.selectedToken.icon_url,"max-height":"24px","max-width":"24px"}}),t._v(" "),e("span",{staticClass:"mr-2",staticStyle:{"font-size":"18px"}},[t._v("\n                "+t._s(t.selectedToken.symbol)+"\n              ")]),t._v(" "),e(d.a,{attrs:{small:""}},[t._v(" mdi-menu-down ")])],1),t._v(" "),e("select-from-token")],1),t._v(" "),t.fromBalanceVisble?e("span",{staticClass:"font-weight-light"},[t._v("\n            "+t._s(t.$t("balance"))+": "+t._s(t.fixedFromBalance)+"\n            "+t._s(t.selectedToken.symbol)+"\n          ")]):t._e(),t._v(" "),t.fetchingBalance&&t.connected?e("div",[e(m.a,{staticClass:"mr-2",attrs:{width:"1",size:"10",indeterminate:"",color:"dark"}}),t._v(" "),e("span",{staticClass:"font-weight-light",staticStyle:{}},[t._v(t._s(t.$t("loading_balance")))])],1):t._e()])],1),t._v(" "),e(c.a,{staticClass:"text-center pa-0 py-1"},[e(o.a,{attrs:{icon:""},on:{click:function(e){t.mode=1}}},[e(d.a,{staticClass:"arrow-down py-1"},[t._v(" mdi-arrow-down ")])],1)],1),t._v(" "),e(c.a,{staticClass:"pa-0 mb-4",staticStyle:{"font-size":"14px"}},[e(x.a,{staticClass:"px-5 py-4 border-rounded",staticStyle:{"background-color":"#f4f7fa"}},[e("div",{staticClass:"d-flex flex-row mb-2"},[e("span",{staticClass:"font-weight-light"},[t._v(" "+t._s(t.$t("to"))+" ")]),t._v(" "),e(f.a,{staticClass:"ml-3",attrs:{src:t.bridge,"max-height":"23px","max-width":"20px"}}),t._v(" "),e("span",{staticClass:"ml-2 font-weight-500"},[t._v("\n              "+t._s(t.$t("mvm_mainnet"))+"\n            ")])],1),t._v(" "),e("div",{staticClass:"d-flex flex-column font-weight-light"},[e("span",{staticClass:"mb-1"},[t._v("\n              "+t._s(t.$t("will_receive"))+": "+t._s(t.fromAmount)+"\n              "+t._s(t.selectedToken.symbol)+"\n            ")])])])],1),t._v(" "),e(c.a,{staticClass:"mt-4 px-0"},[t.connected?t._e():e("connect-wallet",{attrs:{huge:!0}}),t._v(" "),t.connected?e(o.a,{staticClass:"border-rounded main-btn white--text",attrs:{block:"","x-large":"",depressed:"",elevation:"0",color:"#5959d8",loading:t.depositing,disabled:!t.valueValid},on:{click:t.deposit}},[e("span",[t._v(" "+t._s(t.depositBtnText)+" ")])]):t._e(),t._v(" "),e("deposit-dialog",{attrs:{"from-amount":t.fromAmount,"from-balance":t.fromBalance}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SelectFromNetwork:n(1494).default,SelectFromToken:n(1495).default,ConnectWallet:n(224).default,DepositDialog:n(1496).default})},1876:function(t,e,n){"use strict";n(1699)},1877:function(t,e,n){var r=n(35)(!1);r.push([t.i,".border-rounded{border-radius:12px}.font-weight-500{font-weight:500}.from-form{height:56px;background-color:#fff;border:1px solid #cbd5e0;border-radius:12px 0 0 12px}.selected-network{font-size:14px;line-height:normal}.arrow-down{color:#5959d8!important}.select-token-btn{height:56px;color:#fff;background-color:#fff!important;border-bottom:1px solid #cbd5e0;border-right:1px solid #cbd5e0;border-top:1px solid #cbd5e0;border-radius:0 12px 12px 0;border-left:none!important}.v-dialog{border-radius:16px!important}.v-btn{text-indent:0;letter-spacing:0;text-transform:none!important}.v-btn:before{opacity:0!important}.v-text-field--outlined fieldset{border:none}.theme--light.v-btn.v-btn--disabled.v-btn--has-bg{background-color:#f1f4f9!important}.v-ripple__container{opacity:0!important}.main-btn{font-size:18px;font-weight:700;height:60px!important}",""]),t.exports=r}}]);