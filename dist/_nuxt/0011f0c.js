(window.webpackJsonp=window.webpackJsonp||[]).push([[20,11,18,19],{1411:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var r="c6d0c728-2624-429b-8e0d-d9d19b6592fa",o="c94ac88f-4671-3976-b60a-09064f1811e8",c="43d61dcd-e413-450d-80b8-101d5e903357",l=.001},1419:function(t,e,n){"use strict";n.r(e);var r=n(786),o=n(1388),c=n(1398),l=n(540),d=n(1387),f=n(134),x=n(1386),m=(n(570),n(21)),h=(n(119),n(64)),v=n(566),_=n(565),w=n(1411),k={data:function(){return{addingToken:!1}},props:["link","assetid","symbol"],computed:{txSucceedDialog:{get:function(){return this.$store.state.txSucceedDialog},set:function(t){this.$store.commit("toggleTxSucceedDialog",t)}}},methods:{addToken:function(){var t=this;return Object(m.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=window.ethereum){e.next=2;break}return e.abrupt("return");case 2:if(""!=t.assetid){e.next=4;break}return e.abrupt("return");case 4:if(t.assetid!=w.b){e.next=6;break}return e.abrupt("return");case 6:return t.addingToken=!0,e.next=9,v.a.asset.fetch(t.assetid);case 9:return n=e.sent,e.next=12,Object(_.d)(t.assetid);case 12:if((r=e.sent)!==h.a.constants.AddressZero){e.next=15;break}return e.abrupt("return");case 15:return e.prev=15,e.next=18,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:r,symbol:n.symbol,decimals:8,image:n.icon_url}}});case 18:t.addingToken=!1,e.next=25;break;case 21:e.prev=21,e.t0=e.catch(15),console.log(e.t0),t.addingToken=!1;case 25:case"end":return e.stop()}}),e,null,[[15,21]])})))()}}},C=n(57),component=Object(C.a)(k,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"450px","overlay-opacity":"0.5"},model:{value:t.txSucceedDialog,callback:function(e){t.txSucceedDialog=e},expression:"txSucceedDialog"}},[e(f.a,{staticClass:"align-self-start px-9 py-6"},[e(d.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0 mb-2"},[e("h1",{staticClass:"title-css"},[t._v(t._s(t.$t("confirmed")))]),t._v(" "),e(x.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.txSucceedDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-center my-2"},[e(l.a,{attrs:{size:"128px",color:"green"}},[t._v(" mdi-check-circle ")])],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-center pt-0 pb-2"},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:t.link,target:"_blank",click:"window.open(link)"}},[e("span",[t._v(" "+t._s(t.$t("view_on_explorer"))+" ")])])]),t._v(" "),t.symbol?e(o.a,{staticClass:"d-flex justify-center py-0"},[e(r.a,{staticClass:"my-3",attrs:{rounded:"",depressed:"",elevation:"0",color:"#f4f7fa",loading:t.addingToken},on:{click:t.addToken}},[t._v(" \n          "+t._s(t.$t("add"))+" "+t._s(t.symbol)+"\n        ")])],1):t._e(),t._v(" "),e(o.a,[e(r.a,{staticClass:"border-rounded main-btn white--text",attrs:{block:"","x-large":"",depressed:"",elevation:"0",color:"#5959d8"},on:{click:function(e){t.txSucceedDialog=!1}}},[t._v("\n          "+t._s(t.$t("close"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1427:function(t,e,n){"use strict";n.r(e);var r=n(786),o=n(1388),c=n(1398),l=n(540),d=n(1387),f=n(134),x=n(1386),m={props:["msg"],computed:{txFailedDialog:{get:function(){return this.$store.state.txFailedDialog},set:function(t){this.$store.commit("toggleTxFailedDialog",t)}}}},h=n(57),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"450px","overlay-opacity":"0.8"},model:{value:t.txFailedDialog,callback:function(e){t.txFailedDialog=e},expression:"txFailedDialog"}},[e(f.a,{staticClass:"align-self-start px-9 py-8",attrs:{"max-height":"500px"}},[e(d.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0 mb-2"},[e("h1",{staticClass:"title-css"},[t._v(t._s(t.$t("transaction_failed")))]),t._v(" "),e(x.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.txFailedDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-center my-1"},[e(l.a,{attrs:{size:"128px",color:"red"}},[t._v(" \n          mdi-alert-circle-outline\n        ")])],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-center break-all"},[t.msg?e("span",[t._v("  "+t._s(t.msg.message?t.msg.message:t.msg)+"  ")]):t._e()]),t._v(" "),e(o.a,[e(r.a,{staticClass:"border-rounded main-btn white--text",attrs:{block:"","x-large":"",depressed:"",elevation:"0",color:"#5959d8"},on:{click:function(e){t.txFailedDialog=!1}}},[t._v("\n          "+t._s(t.$t("close"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1428:function(t,e,n){var content=n(1455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("7491d665",content,!0,{sourceMap:!1})},1431:function(t,e,n){"use strict";n.r(e);var r=n(786),o=n(1696),c=n(1388),l=n(1398),d=n(540),f=n(424),x=n(544),m=n(539),h=n(1387),v=n(134),_=n(1386),w=n(21),k=(n(106),n(119),n(1447)),C=n(565),y=n(1432),D={components:{VueQrcode:n.n(y).a},data:function(){return{mixinMessengerLogo:"https://static.fox.one/image/icon_mixin@32x32.png",qrUrl:"",qrLoaded:!1,accessToken:null,outputs:null,client:null}},computed:{connectMixinDialog:{get:function(){return this.$store.state.connectMixinDialog},set:function(t){this.$store.commit("toggleConnectMixin",t)}},mixinConnected:{get:function(){return this.$store.state.mixinConnected},set:function(t){this.$store.commit("connectMixin",t)}}},mounted:function(){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.client=t.auth();case 1:case"end":return e.stop()}}),e)})))()},watch:{connectMixinDialog:function(t){t&&(this.client=this.auth())}},methods:{qrAfterSuccess:function(){var t=this;setTimeout((function(){t.qrUrl="",t.connectMixinDialog=!1}),1e3)},redirect:function(t){location.href=t},auth:function(){var t,e=this;Object(k.a)({clientId:"a13f4c77-5cfc-4368-a2d6-33f07037ae9e",scope:"PROFILE:READ",pkce:!0},{onShowUrl:function(t){e.qrUrl=t,e.qrLoaded=!0},onError:function(t){e.connectMixinDialog=!1,console.error(t)},onSuccess:(t=Object(w.a)(regeneratorRuntime.mark((function t(data){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.accessToken=data,e.qrAfterSuccess(),t.next=4,Object(C.i)(data);case 4:return n=t.sent,e.mixinConnected=!0,e.$store.commit("connectMixin",!0),e.$store.commit("setOauthUser",n),localStorage.setItem("access_token",data),localStorage.setItem("oauth_user",JSON.stringify(n)),t.abrupt("return");case 11:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})})}}},S=D,$=(n(1454),n(57)),component=Object($.a)(S,(function(){var t=this,e=t._self._c;return e(l.a,{staticClass:"dialog-css",attrs:{"max-width":"500px","overlay-opacity":"0.5"},model:{value:t.connectMixinDialog,callback:function(e){t.connectMixinDialog=e},expression:"connectMixinDialog"}},[t.$vuetify.breakpoint.mobile?e(v.a,{staticClass:"align-self-start px-9 py-8"},[e(h.a,{staticClass:"d-flex flex-column mb-0"},[e(c.a,{staticClass:"align-center d-flex flex-row pa-0 mb-2"},[e(_.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.connectMixinDialog=!1}}},[e(d.a,{attrs:{color:"black"}},[t._v(" mdi-close ")])],1)],1),t._v(" "),t.qrLoaded?e(c.a,{staticClass:"d-flex justify-center oauth-qr-mobile-background"},[e(r.a,{attrs:{elevation:"0",color:"#ebf8ff"},on:{click:function(e){return t.redirect(t.qrUrl)}}},[e(f.a,{staticClass:"mr-2 mixin-logo-overlay",attrs:{src:t.mixinMessengerLogo}}),t._v(" "),e("span",[t._v(" "+t._s(t.$t("mixin_oauth_mobile_title"))+" ")]),t._v(" "),t.mixinConnected?e(d.a,{staticClass:"ml-1",attrs:{size:"16px",color:"green"}},[t._v("\n            mdi-checkbox-marked-circle\n          ")]):t._e()],1)],1):t._e()],1)],1):e(v.a,{staticClass:"align-self-start px-9 py-8"},[e(h.a,{staticClass:"d-flex flex-column mb-0"},[e(c.a,{staticClass:"align-center d-flex flex-row pa-0 mb-2"},[e(_.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.connectMixinDialog=!1}}},[e(d.a,{attrs:{color:"black"}},[t._v(" mdi-close ")])],1)],1),t._v(" "),t.qrLoaded?e(c.a,{staticClass:"py-6 d-flex justify-center oauth-qr-background"},[e(o.a,{attrs:{"max-width":"200px"}},[e(h.a,[t.qrUrl?e("vue-qrcode",{attrs:{value:t.qrUrl,options:{width:200}}}):t._e(),t._v(" "),e(x.a,{attrs:{opacity:"0",absolute:""}},[t.mixinConnected?t._e():e(f.a,{staticClass:"mixin-logo-overlay",attrs:{src:t.mixinMessengerLogo}}),t._v(" "),t.mixinConnected?e(d.a,{staticClass:"oauth-qr-scanned",attrs:{size:"64px"}},[t._v("\n                mdi-checkbox-marked-circle\n              ")]):t._e()],1)],1)],1)],1):t._e(),t._v(" "),t.qrLoaded?t._e():e(c.a,{staticClass:"my-10 d-flex justify-center"},[e(m.a,{attrs:{indeterminate:"",color:"primary"}})],1),t._v(" "),e("div",{staticClass:"my-5"},[e(c.a,{staticClass:"d-flex justify-start"},[e("span",{staticClass:"oauth-guide-title"},[t._v("\n            "+t._s(t.$t("mixin_oauth_title"))+"\n          ")])]),t._v(" "),e(c.a,{staticClass:"d-flex justify-start"},[e("span",{staticClass:"oauth-guide-text"},[t._v("\n            "+t._s(t.$t("mixin_oauth_text"))+"\n          ")])])],1)],1)],1)],1)}),[],!1,null,"2fa10296",null);e.default=component.exports},1433:function(t,e,n){t.exports=n.p+"img/metamask.93aa2ba.png"},1444:function(t,e,n){var content=n(1483);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(39).default)("2e67a27b",content,!0,{sourceMap:!1})},1447:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(89),o=n(90),c=(n(50),n(114),n(12),n(139),n(1520),n(1521),n(1522),n(1523),n(1524),n(1525),n(1526),n(1527),n(1528),n(1529),n(1530),n(1531),n(1532),n(1533),n(1534),n(1535),n(1536),n(1537),n(1538),n(1539),n(1540),n(1541),n(1542),n(1543),n(1544),n(106),n(1545)),l=n(1546),d=n(1547),f=n(188),x=n(1548),m=n.n(x),h=n(1550),v=n.n(h),_=n(154),w=n.n(_);function k(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function C(){var t=function(t){for(var text="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)text+=e.charAt(Math.floor(Math.random()*e.length));return text}(32);return{verifier:k(btoa(t)),challenge:k(m()(t).toString(v.a))}}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="https://api.mixin.one",r="wss://blaze.mixin.one",o=n,c=r,l=new D(o,c),d=!1,f=t.pkce?C():{},x=f.challenge,m=void 0===x?"":x,h=f.verifier,v=void 0===h?"":h,_=function(n){var r,c,l,f,data=n.data;if(400===(null==n||null===(r=n.error)||void 0===r?void 0:r.code)||10002===(null==n||null===(c=n.error)||void 0===c?void 0:c.code))return null===(f=e.onError)||void 0===f||f.call(e,null==n?void 0:n.error),!0;if(!data)return!1;if(data.authorization_code.length>16){var x;if(t.pkce)w.a.post("/oauth/token",{client_id:t.clientId,code_verifier:v,code:data.authorization_code},{baseURL:o}).then((function(data){var t,n,r,o,c=null==data||null===(t=data.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.access_token;c?null===(r=e.onSuccess)||void 0===r||r.call(e,c):null===(o=e.onError)||void 0===o||o.call(e,{description:"Get PKCE access token error"})})).catch((function(t){var n;null===(n=e.onError)||void 0===n||n.call(e,t)}));else null===(x=e.onSuccess)||void 0===x||x.call(e,data.authorization_code);return!0}return d||(null===(l=e.onShowUrl)||void 0===l||l.call(e,"mixin://codes/"+data.code_id),d=!0),!1};return l.connect(_,t.clientId,t.scope,m),l}var D=function(){function t(e,n){Object(r.a)(this,t),this.api=e,this.endpoint=n}return Object(o.a)(t,[{key:"disconnect",value:function(){this.ws.close()}},{key:"connect",value:function(t,e,n,r){var o=this;o.handled=!1,o.callback=t,o.ws=new c.a(o.endpoint,"Mixin-OAuth-1",{maxReconnectionDelay:5e3,minReconnectionDelay:1e3,reconnectionDelayGrowFactor:1.2,connectionTimeout:8e3,maxRetries:1/0,debug:!1}),o.ws.addEventListener("message",(function(t){if(!o.handled){var c=new FileReader;c.onload=function(){var t=Object(d.ungzip)(new Uint8Array(this.result),{to:"string"}),c=JSON.parse(t);o.callback(c)?o.handled=!0:setTimeout((function(){o.sendRefreshCode(e,n,r,c.data)}),1e3)},c.readAsArrayBuffer(t.data)}})),o.ws.addEventListener("open",(function(t){o.sendRefreshCode(e,n,r)}))}},{key:"sendRefreshCode",value:function(t,e,n,r){this.handled||this.send({id:Object(f.a)().toUpperCase(),action:"REFRESH_OAUTH_CODE",params:{client_id:t,scope:e,code_challenge:n,authorization_id:r?r.authorization_id:""}})}},{key:"send",value:function(t){try{this.ws.send(Object(l.gzip)(JSON.stringify(t)))}catch(t){t instanceof DOMException||console.error(t)}}}]),t}()},1454:function(t,e,n){"use strict";n(1428)},1455:function(t,e,n){var r=n(38)(!1);r.push([t.i,".mixin-logo-overlay[data-v-2fa10296]{border-radius:8px;background-color:#fff}.oauth-qr-background[data-v-2fa10296]{border-radius:8px;background-color:#f2f3f6}.oauth-qr-scanned[data-v-2fa10296]{color:#4caf50;background-color:#e8f5e9;border-radius:50%}.oauth-qr-mobile-background[data-v-2fa10296]{border-radius:8px;background-color:#ebf8ff}.oauth-guide-title[data-v-2fa10296]{font-size:18px;font-weight:600;line-height:21px}.oauth-guide-text[data-v-2fa10296]{color:grey;font-size:14px;font-weight:500px;line-height:150%}",""]),t.exports=r},1471:function(t,e,n){"use strict";n.r(e);var r=n(786),o=n(1388),c=n(1398),l=n(540),d=n(424),f=n(1387),x=n(134),m=n(1386),h=n(1335),v=(n(62),n(21)),_=(n(119),n(74),n(100),n(150),n(50),n(114),n(839),n(838),n(53),n(64)),w=n(2176),k=n(566),C=n(169),y=n(572),D=n(574),S=n(1433),$=n.n(S),M=n(425),T=n(565),O=n(1419),j=n(1431),R=n(1411),E="https://scan.mvm.dev/";function A(t,e){var n=t.replaceAll(",","");return e===R.b?_.a.utils.parseEther(Number(n).toFixed(8)):Object(w.c)(Object(w.b)(n,T.a))}var U={components:{txConfirmed:O.default,mixinOauthDialog:j.default},data:function(){return{MetamaskLogo:$.a,search:"",txAddress:"",txMemo:"",txType1Sent:!1,txType2Sent:!1,txConfirmed:!1,txSucceed:!1,txExplorerURL:"",txErrorText:""}},props:["toAmount","totalAmount","fee"],computed:{confirmWithdrawDialog:{get:function(){return this.$store.state.confirmWithdrawDialog},set:function(t){this.$store.commit("toggleConfirmWithdraw",t)}},txSucceedDialog:{get:function(){return this.$store.state.txSucceedDialog},set:function(t){this.$store.commit("toggleTxSucceedDialog",t)}},txFailedDialog:{get:function(){return this.$store.state.txFailedDialog},set:function(t){this.$store.commit("toggleTxFailedDialog",t)}},selectedNetwork:{get:function(){return this.$store.state.toNetwork}},selectedToken:{get:function(){return this.$store.state.toToken}},userAddress:function(){return this.$store.state.userAddress},txSupportMetamask:function(){return this.$store.state.supportMetamaskNetworks.includes(this.selectedNetwork.symbol)},txToMixin:function(){return this.selectedNetwork.asset_id===R.d},inputPlaceHolder:function(){return[this.txToMixin?this.$t("please_enter_recipient_user_id"):this.$t("please_enter_your_wallet_address"),this.$t("optional")]},connectMixinDialog:{get:function(){return this.$store.state.connectMixinDialog},set:function(t){this.$store.commit("toggleConnectMixin",t)}},mixinConnected:{get:function(){return this.$store.state.mixinConnected},set:function(t){this.$store.commit("connectMixin",t)}},oauthUser:{get:function(){return this.$store.state.oauthUser},set:function(t){this.$store.commit("setOauthUser",t)}}},watch:{oauthUser:function(t){t.user_id&&(this.txAddress=t.user_id)},confirmWithdrawDialog:function(){if(localStorage.getItem("oauth_user")){var u=JSON.parse(localStorage.getItem("oauth_user"));this.mixinConnected=!0,this.oauthUser=u}}},methods:{withdraw:function(t){var e=this;return Object(v.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e.selectedNetwork.asset_id!=R.d){n.next=9;break}return e.txType1Sent=!0,n.next=5,e.mixinWithdraw();case 5:return e.txType1Sent=!1,e.confirmWithdrawDialog=!1,e.txSucceedDialog=!0,n.abrupt("return");case 9:if("metamask"!=t){n.next=17;break}return e.txType2Sent=!0,n.next=13,e.externalWithdraw("metamask");case 13:return e.txType2Sent=!1,e.confirmWithdrawDialog=!1,e.txSucceedDialog=!0,n.abrupt("return");case 17:return e.txType1Sent=!0,n.next=20,e.externalWithdraw("");case 20:e.txType1Sent=!1,e.confirmWithdrawDialog=!1,e.txSucceedDialog=!0,n.next=33;break;case 25:n.prev=25,n.t0=n.catch(0),console.log(n.t0),e.txType1Sent=!1,e.txType2Sent=!1,e.confirmWithdrawDialog=!1,e.txErrorText=n.t0,e.txFailedDialog=!0;case 33:case"end":return n.stop()}}),n,null,[[0,25]])})))()},mixinWithdraw:function(){var t=this;return Object(v.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,f,x,m,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(C.b)(),r=n.connectedWallet,o=new _.a.providers.Web3Provider(r.value.provider,"any"),c=o.getSigner(),e.next=5,t.getMixinExtra(t.txAddress,t.txMemo);case 5:if(void 0!==(l=e.sent)){e.next=8;break}throw new Error("Failed to get Mixin user");case 8:return d=A(t.toAmount,t.selectedToken.asset_id),e.next=11,Object(T.f)(t.userAddress);case 11:if(f=e.sent,t.selectedToken.asset_id!==R.b){e.next=27;break}return m=new _.a.Contract(T.b,D,c),e.t0=m,e.t1=f,e.t2=l,e.t3=d,e.next=20,T.h.getGasPrice();case 20:return e.t4=e.sent,e.t5={value:e.t3,gasPrice:e.t4,gasLimit:35e4},e.next=24,e.t0.release.call(e.t0,e.t1,e.t2,e.t5);case 24:x=e.sent,e.next=42;break;case 27:return e.next=29,Object(T.d)(t.selectedToken.asset_id);case 29:return h=e.sent,v=new _.a.Contract(h,y,c),e.t6=v,e.t7=f,e.t8=d,e.t9=l,e.next=37,T.h.getGasPrice();case 37:return e.t10=e.sent,e.t11={gasPrice:e.t10},e.next=41,e.t6.transferWithExtra.call(e.t6,e.t7,e.t8,e.t9,e.t11);case 41:x=e.sent;case 42:t.txExplorerURL=E+"tx/"+x.hash;case 43:case"end":return e.stop()}}),e)})))()},externalWithdraw:function(t){var e=this;return Object(v.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,d,f,x,m,h,v,w,k;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object(C.b)(),o=r.connectedWallet,c=new _.a.providers.Web3Provider(o.value.provider,"any"),l=c.getSigner(),"metamask"!=t){n.next=9;break}return n.next=6,l.getAddress();case 6:n.t0=n.sent,n.next=10;break;case 9:n.t0=e.txAddress;case 10:return d=n.t0,n.next=13,e.getExternalExtra(d,e.txMemo,e.toAmount);case 13:return f=n.sent,x=A(e.totalAmount,e.selectedToken.asset_id),n.next=17,Object(T.f)(e.userAddress);case 17:if(m=n.sent,e.selectedToken.asset_id!==R.b){n.next=35;break}return v=new _.a.Contract(T.b,D,l),n.t1=v,n.t2=m,n.t3=f,n.t4=x,n.next=26,T.h.getGasPrice();case 26:return n.t5=n.sent,n.t6={value:n.t4,gasPrice:n.t5,gasLimit:35e4},n.next=30,n.t1.release.call(n.t1,n.t2,n.t3,n.t6);case 30:h=n.sent,console.log(h),e.txExplorerURL=E+"tx/"+h.hash,n.next=52;break;case 35:return n.next=37,Object(T.d)(e.selectedToken.asset_id);case 37:return w=n.sent,k=new _.a.Contract(w,y,l),n.t7=k,n.t8=m,n.t9=x,n.t10=f,n.next=45,T.h.getGasPrice();case 45:return n.t11=n.sent,n.t12={gasPrice:n.t11},n.next=49,n.t7.transferWithExtra.call(n.t7,n.t8,n.t9,n.t10,n.t12);case 49:h=n.sent,console.log(h),e.txExplorerURL=E+"tx/"+h.hash;case 52:case"end":return n.stop()}}),n)})))()},getMixinExtra:function(t,e){return Object(v.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=String(t).trim(),Object(M.a)(r)){n.next=7;break}return n.next=4,k.a.user.fetch(r);case 4:o=n.sent,console.log(o),r=o.user_id;case 7:if(void 0!==r){n.next=9;break}return n.abrupt("return",void 0);case 9:return n.abrupt("return","0x"+Object(T.e)(r,e));case 10:case"end":return n.stop()}}),n)})))()},getExternalExtra:function(t,e,n){var r=this;return Object(v.a)(regeneratorRuntime.mark((function o(){var c,l,d;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=JSON.stringify({t:t,m:e,a:n}),l={receivers:["a13f4c77-5cfc-4368-a2d6-33f07037ae9e"],threshold:1,extra:btoa(c)},console.log(l,c),o.next=5,r.$axios.post("https://bridge.mvm.dev/extra",l);case 5:return d=o.sent,o.abrupt("return","0x"+d.data.extra);case 7:case"end":return o.stop()}}),o)})))()},resetOauth:function(){this.mixinConnected=!1}}},W=(n(1482),n(57)),component=Object(W.a)(U,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"dialog-css",attrs:{"max-width":"500px","overlay-opacity":"0.95"},model:{value:t.confirmWithdrawDialog,callback:function(e){t.confirmWithdrawDialog=e},expression:"confirmWithdrawDialog"}},[e(x.a,{staticClass:"align-self-start px-9 py-8"},[e(f.a,{staticClass:"d-flex flex-column mb-0"},[e(o.a,{staticClass:"align-center d-flex flex-row pr-0 mb-2"},[e("h1",{staticClass:"title-css"},[t._v(t._s(t.$t("confirm_withdraw")))]),t._v(" "),e(m.a),t._v(" "),e(r.a,{attrs:{icon:""},on:{click:function(e){t.confirmWithdrawDialog=!1}}},[e(l.a,[t._v(" mdi-close ")])],1)],1),t._v(" "),e(o.a,[e("div",{staticClass:"py-0"},[e("div",[e("span",{staticClass:"subtitle-css"},[t._v(" "+t._s(t.$t("to"))+" ")]),t._v(" "),e("div",{staticClass:"d-flex flex-row align-center pt-1 mb-5"},[e(d.a,{staticClass:"mr-2",attrs:{src:t.selectedNetwork.icon_url,"max-height":"20px","max-width":"20px"}}),t._v(" "),e("span",{staticClass:"main-title-css"},[t._v("\n                "+t._s(t.selectedNetwork.name)+" "+t._s(t.$t("mainnet"))+"\n              ")])],1)])]),t._v(" "),e("div",{staticClass:"py-0"},[e("div",[e("span",{staticClass:"subtitle-css"},[t._v(" "+t._s(t.$t("token"))+" ")]),t._v(" "),e("div",{staticClass:"d-flex flex-row align-center pt-1 mb-5"},[e(d.a,{staticClass:"mr-2",attrs:{src:t.selectedToken.icon_url,"max-height":"20px","max-width":"20px"}}),t._v(" "),e("span",{staticClass:"main-title-css"},[t._v("\n                "+t._s(t.totalAmount)+" "+t._s(t.selectedToken.symbol)+"\n              ")])],1)])]),t._v(" "),t.txToMixin?e("div",{staticClass:"d-flex flex-column mb-2"},[e("span",{staticClass:"subtitle-css"},[t._v("\n            "+t._s(t.$t("user_id"))+"\n          ")]),t._v(" "),t.mixinConnected?e(h.a,{staticClass:"my-3 withdraw-addr",attrs:{rounded:"",readonly:"",value:t.oauthUser.identity_number,"hide-details":"true",placeholder:t.inputPlaceHolder[0],"append-icon":"mdi-close"},on:{"click:append":t.resetOauth}}):e(r.a,{staticClass:"my-3 withdraw-addr",attrs:{rounded:"",elevation:"0",color:"#f4f7fa",height:"55px"},on:{click:function(e){t.connectMixinDialog=!0}}},[e("span",[t._v(" "+t._s(t.$t("connect_to_mixin"))+" ")])]),t._v(" "),e("span",{staticClass:"subtitle-css"},[t._v(" "+t._s(t.$t("memo"))+" ")]),t._v(" "),e(h.a,{staticClass:"my-3 withdraw-addr",attrs:{rounded:"",clearable:"","hide-details":"true",placeholder:t.inputPlaceHolder[1]},model:{value:t.txMemo,callback:function(e){t.txMemo=e},expression:"txMemo"}}),t._v(" "),e("mixin-oauth-dialog")],1):e("div",{staticClass:"d-flex flex-column mb-2"},[e("span",{staticClass:"subtitle-css"},[t._v("\n            "+t._s(t.$t("address"))+"\n          ")]),t._v(" "),e(h.a,{staticClass:"my-3 withdraw-addr",attrs:{rounded:"",clearable:"","hide-details":"true",placeholder:t.inputPlaceHolder[0]},model:{value:t.txAddress,callback:function(e){t.txAddress=e},expression:"txAddress"}}),t._v(" "),e("span",{staticClass:"subtitle-css"},[t._v(" "+t._s(t.$t("memo"))+" ")]),t._v(" "),e(h.a,{staticClass:"my-3 withdraw-addr",attrs:{rounded:"",clearable:"","hide-details":"true",placeholder:t.inputPlaceHolder[1]},model:{value:t.txMemo,callback:function(e){t.txMemo=e},expression:"txMemo"}})],1)]),t._v(" "),e(o.a,[e(r.a,{staticClass:"deposit-btn mt-2",attrs:{block:"","x-large":"",elevation:"0",loading:t.txType1Sent},on:{click:t.withdraw}},[t.txToMixin?e("span",[t._v(" "+t._s(t.$t("withdraw_to_mixin")))]):e("span",[t._v(" "+t._s(t.$t("withdraw_to_address")))])]),t._v(" "),t.txSupportMetamask?e(r.a,{staticClass:"metamask-pay-btn mt-4",attrs:{block:"","x-large":"",elevation:"0",loading:t.txType2Sent},on:{click:function(e){return t.withdraw("metamask")}}},[e("span",{staticClass:"ml-1"},[t._v(" "+t._s(t.$t("withdraw_to_current_wallet")))])]):t._e()],1)],1),t._v(" "),e("tx-confirmed",{attrs:{link:t.txExplorerURL}}),t._v(" "),e("tx-failed",{attrs:{msg:t.txErrorText}})],1)],1)}),[],!1,null,"62eadf61",null);e.default=component.exports;installComponents(component,{MixinOauthDialog:n(1431).default,TxConfirmed:n(1419).default,TxFailed:n(1427).default})},1482:function(t,e,n){"use strict";n(1444)},1483:function(t,e,n){var r=n(38)(!1);r.push([t.i,".dialog-css[data-v-62eadf61]{width:400px;max-width:400px;min-height:64px}.title-css[data-v-62eadf61]{font-size:24px;font-weight:600;font-style:italic}.subtitle-css[data-v-62eadf61]{font-size:14px;font-weight:400}.main-title-css[data-v-62eadf61]{font-size:18px;font-weight:500;word-break:break-all}.deposit-btn[data-v-62eadf61]{color:#fff!important;font-weight:600;background-color:#5959d8!important}.deposit-btn[data-v-62eadf61],.qr-area[data-v-62eadf61]{border-radius:10px!important}.qr-area[data-v-62eadf61]{background-color:#f4f7fa}.help-text[data-v-62eadf61]{word-wrap:break-word}.withdraw-addr[data-v-62eadf61]{height:55px;border-radius:10px;background-color:#f4f7fa}.metamask-pay-btn[data-v-62eadf61]{color:#fff;font-weight:600;background-color:#2979ff!important;border-radius:10px}",""]),t.exports=r},1549:function(t,e){},1551:function(t,e){}}]);